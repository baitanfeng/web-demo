- 能否通过资源合并，减少HTTP请求数量？
- 能否通过资源压缩，减少HTTP请求大小？
- 能否通过dns缓存，减少dns查询时间？
- 能否通过cnd设置，减少HTTP请求时间？
- 能否通过浏览器缓存，减少HTTP请求次数？
- 能否通过服务端渲染，减少首屏渲染的时间？

具体要怎么优化，需要依据实际业务场景来综合考量，因为优化方式既有它的优点也有它的缺点，比如说，资源合并，n个资源合并为1个资源，减少了n-1个请求，又因为请求数少了，网络丢包的概率也就更低了，这是资源合并的优点，但同时，合并为1个资源，就意味着单个资源的大小变大了，请求所需时间变长了，还存在首屏渲染的问题，缓存失效的问题，这是资源合并的缺点

### 浏览器的一个请求从发送到返回都经历了什么？

用户在浏览器中输入一个url，浏览器经过解析处理将url的域名发送到dns服务器，dns服务器返回域名对应的ip地址给浏览器，浏览器把这个地址发送到网络中，经过局域网、交换机、路由器、主干网，到服务器，服务器响应地址对应的资源，返回资源到网络，又经过网络传输，返回到用户的浏览器，最后浏览器解析、渲染返回的数据，最终呈现在浏览器的界面上

### 不同格式图片常用的业务场景

- png，支持透明，浏览器兼容性好
- jpg，有损压缩，不支持透明，压缩率高
- webp，压缩程度比jpg更高，但是在ios上有兼容性问题
- svg，图片样式相对简单的场景，矢量图，不存在失真问题，放大不变形v

### 重绘与回流

- css，UI渲染引擎
- js，JS解析引擎

UI渲染引擎与JS解析引擎是互斥的。UI引擎在渲染页面时，JS引擎被阻止，JS的解析被中止，同样的，JS引擎在解析js时，UI引擎被阻止，页面渲染被中止

当元素布局和几何属性改变时就发生回流，当元素的外观、风格属性改变时就发生重绘

将频繁重绘回流的DOM元素单独作为一个独立图层，那么这个DOM元素的重绘回流的影响只会在这个图层中

浏览器的帮助，回流比重绘的代价要高，回流的花销更渲染树有多少个节点需要重新构建有关系，现代浏览器会帮助我们优化这些操作，浏览器会维护1个队列，把所有会引起回流、重绘的操作放入这个队列，等队列中的操作到了一定的数量或者到了一定的时间间隔，浏览器就会flush队列，进行一个批处理，这样就会让多次的回流、重绘变成一次回流、重绘。

要尽可能的避免绘制的发生，特别是在动画效果中。因为每帧10ms的时间预算一般来说是不足以完成绘制工作的，尤其是在移动设备上。

创建新层的最佳方式是使用will-change CSS属性，并且通过transform的值创建一个新的合成器层
```
will-change: transform;
```
对于不支持will-change的浏览器，需要使用（滥用）3D变形来强制创建一个新层
```
tranform: translateZ(0);
```

不要害怕试验各压缩程序的参数。 调低质量，看看效果如何，然后取消重来。 找到一组合适的设置后，您可以对网站上的其他类似图像应用这组设置，但不要认为所有图像都必须使用相同的设置进行压缩