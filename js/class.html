<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>
    // function PersonType(name) {
    //   this.name = name;
    // }

    // PersonType.prototype.sayName = function() {
    //   console.log(this.name);
    // }

    // let person = new PersonType("Nicholas");
    // person.sayName();

    // console.log(person instanceof PersonType);
    // console.log(person instanceof Object);

    // class PersonClass {
    //   constructor(name) {
    //     this.name = name;
    //   }

    //   sayName() {
    //     console.log(this.name);
    //   }
    // }

    // let person = new PersonClass("Nicholas");
    // person.sayName();

    // console.log(person instanceof PersonClass);
    // console.log(person instanceof Object);

    // console.log(typeof PersonClass);
    // console.log(typeof PersonClass.prototype.sayName);

    // let PersonType2 = (function () {
    //   "use strict";

    //   const PersonType2 = function (name) {
    //     if (typeof new.target === "undefined") {
    //       throw new Error("Constructor must be called with new.");
    //     }

    //     this.name = name;
    //   }

    //   Object.defineProperty(PersonType2.prototype, "sayName", {
    //     value: function () {
    //       if (typeof new.target !== "undefined") {
    //         throw new Error("Method cannot be called with new.");
    //       }

    //       console.log(this.name);
    //     },
    //     enumerable: false,
    //     writable: true,
    //     configurable: true
    //   });

    //   return PersonType2;
    // }());

    // let PersonClass = class {
    //   constructor(name) {
    //     this.name = name;
    //   }

    //   sayName() {
    //     console.log(this.name);
    //   }
    // }

    // let person = new PersonClass("Nicholas");
    // person.sayName();
    // console.log(PersonClass.name);

    // let person = new class {
    //   constructor(name) {
    //     this.name = name;
    //   }

    //   sayName() {
    //     console.log(this.name);
    //   }
    // }("Nicholas");

    // person.sayName();

    // class CustomHTMLElement {
    //   constructor(element) {
    //     this.element = element;
    //   }

    //   get html() {
    //     return this.element.innerHTML;
    //   }

    //   set html(value) {
    //     this.element.innerHTML = value;
    //   }
    // }

    // var descriptor = Object.getOwnPropertyDescriptor(CustomHTMLElement.prototype, "html");
    // console.log("get" in descriptor);
    // console.log("set" in descriptor);
    // console.log(descriptor.enumerable);

    // let methodName = "sayName";
    // let propertyName = "html";

    // class PersonClass {
    //   constructor(element) {
    //     this.element = element;
    //   }

    //   get [propertyName]() {
    //     return this.element.innerHTML;
    //   }

    //   set [propertyName](value) {
    //     this.element.innerHTML = value;
    //   }

    //   [methodName]() {
    //     console.log(this.element);
    //   }
    // }

    // let me = new PersonClass("Nicholas");
    // me.sayName();

    // class Collection {
    //   constructor() {
    //     this.items = [];
    //   }

    //   *[Symbol.iterator]() {
    //     yield *this.items.values();
    //   }
    // }

    // var collection = new Collection();
    // collection.items.push(1);
    // collection.items.push(2);
    // collection.items.push(3);

    // for(let x of collection) {
    //   console.log(x);
    // }

    // function PersonType(name) {
    //   this.name = name;
    // }

    // PersonType.create = function(name) {
    //   return new PersonType(name);
    // }

    // PersonType.prototype.sayName = function() {
    //   console.log(this.name);
    // }

    // var person = PersonType.create("Nicholas");
    // person.sayName();

    // class PersonClass {
    //   constructor(name) {
    //     this.name = name;
    //   }

    //   sayName() {
    //     console.log(this.name);
    //   }

    //   static create(name) {
    //     return new PersonClass(name);
    //   }
    // }

    // let person = PersonClass.create("Nicholas");
    // person.sayName();

    // function Rectangle(length, width) {
    //   this.length = length;
    //   this.width = width;
    // }

    // Rectangle.prototype.getArea = function() {
    //   return this.length * this.width;
    // }

    // function Square(length) {
    //   Rectangle.call(this, length, length);
    // }

    // Square.prototype = Object.create(Rectangle.prototype, {
    //   constructor: {
    //     value: Square,
    //     enumrable: true,
    //     writable: true,
    //     configurable: true
    //   }
    // });

    // var square = new Square(3);
    
    // console.log(square.getArea());
    // console.log(square instanceof Square);
    // console.log(square instanceof Rectangle);

    // class Rectangle {
    //   constructor(length, width) {
    //     this.length = length;
    //     this.width = width;
    //   }

    //   getArea() {
    //     return this.length * this.width;
    //   }

    //   static create(length, width) {
    //     return new Rectangle(length, width);
    //   }
    // }

    // class Square extends Rectangle {
    //   constructor(length) {
    //     super(length, length);
    //   }

    //   getArea() {
    //     return super.getArea();
    //   }
    // }

    // let square = Square.create(3, 4);

    // console.log(square.getArea());
    // console.log(square instanceof Square);
    // console.log(square instanceof Rectangle);

    // class Rectangle {
    //   constructor(length, width) {
    //     this.length = length;
    //     this.width = width;
    //   }

    //   getArea() {
    //     return this.length * this.width;
    //   }
    // }

    // function getBase() {
    //   return Rectangle;
    // }

    // class Square extends getBase() {
    //   constructor(length) {
    //     super(length, length);
    //   }
    // }

    // let x = new Square(3);
    // console.log(x.getArea());
    // console.log(x instanceof Square);
    // console.log(x instanceof Rectangle);

    // let SerializableMixin = {
    //   serialize() {
    //     return JSON.stringify(this);
    //   }
    // };

    // let AreaMixin = {
    //   getArea() {
    //     return this.length * this.width;
    //   }
    // }

    // function mixin(...mixins) {
    //   var base = function() {};
    //   Object.assign(base.prototype, ...mixins);
    //   return base;
    // }

    // class Square extends mixin(AreaMixin, SerializableMixin) {
    //   constructor(length) {
    //     super();
    //     this.length = length;
    //     this.width = length;
    //   }
    // }

    // var x = new Square(3);
    // console.log(x.getArea());
    // console.log(x.serialize());

    // class MyArray extends Array {

    // }

    // var colors = new MyArray();
    // colors[0] = "red";
    // console.log(colors.length);

    // colors.length = 0;
    // console.log(colors[0]);

    // class Rectangle {
    //   constructor(length, width) {
    //     console.log(new.target === Rectangle);
    //     this.length = length;
    //     this.width = width;
    //   }
    // }
    
    // var obj = new Rectangle(3, 4);

    class Shape {
      constructor() {
        if (new.target === Shape) {
          throw new Error("This class cannot be instantiated directly.");
        }
      }
    }

    class Rectangle extends Shape {
      constructor(length, width) {
        super();
        this.length = length;
        this.width = width;
      }
    }

    // var x = new Shape();
    var y = new Rectangle(3, 4);
    console.log(y instanceof Shape);
  </script>
</body>

</html>