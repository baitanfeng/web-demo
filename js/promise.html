<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>

<body>
  <script>
    // const wait = ms => new Promise(resolve => setTimeout(resolve, ms));
    // wait(1000)
    //   .then(() => console.log('wait 1 second'))
    //   .catch(err => console.log(err.message));

    // let promise = readFile("example.txt");

    // promise.then(function(contents) {
    //   console.log(contents);
    // }, function(err) {
    //   console.error(err.message);
    // });

    // let promise = new Promise(function(resolve, reject) {
    //   console.log("promise");
    //   resolve();
    // });

    // promise.then(function() {
    //   console.log("resolvedd.");
    // });

    // console.log("hi");

    // let promise = Promise.resolve(function() {
    //   // console.log("resolved");
    //   // return 42;
    //   setTimeout(() => {
    //     console.log("resolved");
    //     return 42;
    //   }, 1000);
    // }());

    // promise.then(function(value) {
    //   console.log(value);
    // });

    // let promise = Promise.reject(new Error("42"));

    // promise.catch(function(err) {
    //   console.error(err.message);
    // });

    // let thenable = {
    //   then: function(resolve, reject) {
    //     resolve(42);
    //   }
    // };

    // let p1 = Promise.resolve(thenable);
    // p1.then(function(value) {
    //   console.log(value);
    // });

    // let promise = new Promise(function(resolve, reject) {
    //   // throw new Error("Explosion");
    //   try {
    //     throw new Error("Explosion");
    //   } catch (error) {
    //     reject(error);
    //   }
    // });

    // promise.then(function(contents) {
    //   console.log(contents);
    // }).catch(function(err) {
    //   console.log(err.message);
    // });

    // let rejected = Promise.reject(42);

    // console.log("front");

    // rejected.catch(function(err) {
    //   console.log(err);
    // });

    // console.log("end");

    // let p1 = new Promise(function(resolve, reject) {
    //   reject(42);
    // });

    // let p2 = Promise.resolve(43);

    // let p3 = new Promise(function(resolve, reject) {
    //   reject(44);
    // });

    // let p4 = Promise.race([p1, p2, p3]);

    // p4.then(function(value) {
    //   console.log(Array.isArray(value));
    //   console.log(value.toString());
    // }).catch(function(value) {
    //   console.log(Array.isArray(value));
    //   console.log(value.toString());
    // });

    // let p1 = new Promise(function (resolve, reject) {
    //   resolve(42);
    // });

    // let p2 = Promise.reject(43);

    // let p3 = new Promise(function (resolve, reject) {
    //   resolve(44);
    // });

    // let p4 = Promise.race([p1, p2, p3]);

    // p4.then(function(value) {
    //   console.log(value);
    // }).catch(function (value) {
    //   console.log(value); // 43
    // });

    class MyPromise extends Promise {
      success(resolve, reject) {
        return this.then(resolve, reject);
      }

      failure(reject) {
        return this.catch(reject);
      }
    }

    let promise = new MyPromise(function(resolve, reject) {
      resolve(42);
    });

    promise.success(function(value) {
      console.log(value);
    }).failure(function(value) {
      console.log(value);
    });

    
  </script>
</body>

</html>